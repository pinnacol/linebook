Execute a command and check the output status.
(cmd, *args)
  args.compact!
  args = args.collect! {|arg| arg[0] == ?- ? arg : quote(arg) }
  args.unshift(cmd)
--
<%= cmd_prefix %><%= args.join(' ') %><%= cmd_suffix %>

<% check_status %>