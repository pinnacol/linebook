== Notes
Use dev/null on set such that no options will not dump ENV into stdout.

(options={})
--
#! <%= shell_path %>
<% section %>
<% check_status_function %>

export LINECOOK_DIR=${LINECOOK_DIR:-$(cd $(dirname $0); pwd)}
export LINECOOK_OPTS=${LINECOOK_OPTS:--v}

usage="usage: %s: [-hqvx]\n"
option="       %s   %s\n"
while getopts "hqvx" opt
do
  case $opt in
  h  )  printf "$usage" $0
        printf "$option" "-h" "prints this help"
        printf "$option" "-q" "quiet (set +v +x)"
        printf "$option" "-v" "verbose (set -v)"
        printf "$option" "-x" "xtrace (set -x)"
        exit 0 ;;
  q  )  LINECOOK_OPTS="$LINECOOK_OPTS +v +x";;
  v  )  LINECOOK_OPTS="$LINECOOK_OPTS -v";;
  x  )  LINECOOK_OPTS="$LINECOOK_OPTS -x";;
  \? )  printf "$usage" $0
        exit 2 ;;
  esac
done
shift $(($OPTIND - 1))

<% if options[:info] %>
echo >&2
echo "###############################################################################" >&2
echo "# $SHELL" >&2
echo "# $(whoami)@$(hostname):$(pwd)" >&2

<% end %>
set $LINECOOK_OPTS > /dev/null
<% section " #{target_name} " %>

